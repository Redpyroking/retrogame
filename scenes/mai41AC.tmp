[gd_scene load_steps=18 format=3 uid="uid://cxolficf0n5gp"]

[ext_resource type="PackedScene" uid="uid://vnr2egfxh3rf" path="res://scenes/player.tscn" id="1_d1q5d"]
[ext_resource type="Texture2D" uid="uid://5ygy8jrw2iea" path="res://assest/tileset_blue.png" id="2_7kaw1"]
[ext_resource type="Resource" uid="uid://cd8p6qxkt5nol" path="res://resource/characters/001.tres" id="2_gfdor"]
[ext_resource type="PackedScene" uid="uid://dmkld4v8bn1rd" path="res://scenes/gui/character_button.tscn" id="3_uaqgb"]
[ext_resource type="PackedScene" uid="uid://ce812me8m1n7x" path="res://scenes/gui/healthbar.tscn" id="4_3ltdm"]
[ext_resource type="PackedScene" uid="uid://bf6lhb8b5pmn4" path="res://scenes/computer.tscn" id="5_yqsfx"]
[ext_resource type="Texture2D" uid="uid://cci4cvjo0l0ue" path="res://assest/computer.png" id="6_0gb6l"]
[ext_resource type="PackedScene" uid="uid://csvxy7mkdc8oy" path="res://scenes/gui/character_change_screen.tscn" id="6_5v3a0"]
[ext_resource type="Texture2D" uid="uid://dtvwn2fasldkg" path="res://assest/gui/arrow.png" id="7_hk3kv"]
[ext_resource type="Theme" uid="uid://caskxd3jdb5cl" path="res://label_theme.tres" id="12_nokgd"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_i3kip"]
texture = ExtResource("2_7kaw1")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:1/0 = 0
4:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:1/0/physics_layer_0/angular_velocity = 0.0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_guo5w"]
physics_layer_0/collision_layer = 4
sources/0 = SubResource("TileSetAtlasSource_i3kip")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iafn3"]
size = Vector2(180, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jwiex"]
size = Vector2(180, 25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b3ky6"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_qv6pi"]
load_path = "res://.godot/imported/sunshot.png-2155df6ae5e365946d7754e76b60b911.ctex"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4bfbu"]

[node name="main" type="Node2D"]

[node name="ObjectLayer" type="Node2D" parent="."]

[node name="player" parent="ObjectLayer" instance=ExtResource("1_d1q5d")]
position = Vector2(152, 96)
character = ExtResource("2_gfdor")

[node name="TileMap" type="TileMap" parent="ObjectLayer"]
texture_filter = 1
tile_set = SubResource("TileSet_guo5w")
format = 2
layer_0/name = "wall"
layer_0/tile_data = PackedInt32Array(524288, 262144, 1610612737, 524289, 196608, 1, 524290, 196608, 1, 524291, 196608, 1, 524292, 196608, 1, 524293, 196608, 1, 524294, 196608, 1, 524295, 196608, 1, 524296, 196608, 1, 524297, 196608, 1, 524298, 196608, 1, 524299, 196608, 1, 524300, 196608, 1, 524301, 196608, 1, 524302, 196608, 1, 524303, 196608, 1, 524304, 196608, 1, 524305, 196608, 1, 524306, 196608, 1, 524307, 196608, 1, 458752, 196608, 1610612737, 393216, 196608, 1610612737, 327680, 196608, 1610612737, 262144, 196608, 1610612737, 196608, 196608, 1610612737, 131072, 196608, 1610612737, 65536, 196608, 1610612737, 0, 262144, 1, 1, 196608, 1, 2, 196608, 1, 3, 196608, 1, 4, 196608, 1, 5, 196608, 1, 6, 196608, 1, 7, 196608, 1, 8, 196608, 1, 9, 196608, 1, 10, 196608, 1, 11, 196608, 1, 12, 196608, 1, 13, 196608, 1, 14, 196608, 1, 15, 196608, 1, 16, 196608, 1, 17, 196608, 1, 18, 196608, 1, 19, 196608, 1, 524308, 196608, 1, 524309, 196608, 1, 524310, 196608, 1, 524311, 196608, 1, 524312, 196608, 1, 524313, 196608, 1, 524314, 196608, 1, 524315, 196608, 1, 524316, 196608, 1, 524317, 196608, 1, 524318, 196608, 1, 524319, 196608, 1, 524320, 196608, 1, 524321, 196608, 1, 524322, 196608, 1, 524323, 196608, 1, 524324, 196608, 1, 524325, 196608, 1, 524326, 196608, 1, 524327, 196608, 1, 524328, 196608, 1, 524329, 196608, 1, 524330, 196608, 1, 524331, 196608, 1, 524332, 196608, 1, 524333, 196608, 1, 524334, 196608, 1, 524335, 196608, 1, 524336, 196608, 1, 524337, 196608, 1, 524338, 196608, 1, 20, 196608, 1, 21, 196608, 1, 22, 196608, 1, 23, 196608, 1, 24, 196608, 1, 25, 196608, 1, 26, 196608, 1, 27, 196608, 1, 28, 196608, 1, 29, 196608, 1, 30, 196608, 1, 31, 196608, 1, 32, 196608, 1, 33, 196608, 1, 34, 196608, 1, 35, 196608, 1, 36, 196608, 1, 37, 196608, 1, 38, 196608, 1, 39, 196608, 1, 40, 196608, 1, 41, 196608, 1, 42, 196608, 1, 43, 196608, 1, 44, 196608, 1, 45, 196608, 1, 46, 196608, 1, 47, 196608, 1, 48, 196608, 1, 49, 196608, 1, 50, 196608, 1, 458780, 65536, 1, 524339, 65536, 1, 51, 196608, 1, 52, 196608, 1, 327734, 65536, 0, 327735, 65536, 0, 327736, 65536, 0, 327737, 65536, 0, 327738, 65536, 0, 327739, 65536, 0, 327740, 65536, 0, 524340, 0, 2, 524341, 65536, 2, 524342, 65536, 2, 524343, 65536, 2, 524344, 65536, 2, 524345, 65536, 2, 524346, 65536, 2, 524347, 65536, 2, 524348, 65536, 2, 524349, 65536, 2, 524350, 131072, 2, 458804, 0, 1, 393268, 0, 1, 327732, 0, 0, 327733, 65536, 0, 327741, 65536, 0, 327742, 131072, 0, 458814, 131072, 1, 393278, 131072, 1, 393269, 0, 0, 393270, 65536, 0, 393271, 65536, 0, 393272, 65536, 0, 393273, 65536, 0, 393274, 65536, 0, 393275, 65536, 0, 393276, 65536, 0, 393277, 131072, 0, 458813, 131072, 2, 458812, 65536, 2, 458811, 65536, 2, 458810, 65536, 2, 458809, 65536, 2, 458808, 65536, 2, 458807, 65536, 2, 458806, 65536, 2, 458805, 0, 2, 262206, 131072, 1, 196670, 131072, 1, 131134, 131072, 1, 65598, 131072, 1, 63, 65536, 2, 64, 65536, 2, 65, 65536, 2, 66, 65536, 2, 67, 65536, 2, 68, 65536, 2, 69, 65536, 2, 70, 65536, 2, 71, 65536, 2, 72, 65536, 2, 73, 65536, 2, 78, 65536, 0, 79, 131072, 1, 62, 0, 0, 65615, 131072, 1, 131151, 131072, 1, 196687, 131072, 1, 262223, 131072, 1, 327759, 131072, 1, 393295, 131072, 1, 458831, 131072, 1, 524367, 131072, 1, -65457, 131072, 1, -130993, 131072, 1, -196529, 131072, 1, -262065, 131072, 1, -327601, 131072, 1, -393137, 131072, 1, -458673, 131072, 1, -524209, 131072, 1, -589745, 131072, 1, -655281, 131072, 1, 589903, 131072, 1, 655439, 131072, 1, 720975, 131072, 1, 786511, 131072, 1, 852047, 131072, 1, 917583, 131072, 1, 983119, 131072, 1, 1048655, 131072, 1, 1114191, 131072, 1, 1179727, 131072, 1, 1245263, 131072, 1, 1310799, 131072, 1, 1572940, 65536, 2, 1572939, 65536, 2, 1572938, 65536, 2, 1572937, 65536, 2, 1572936, 65536, 2, 1572935, 65536, 2, 1572934, 65536, 2, 1572933, 65536, 2, 1572932, 65536, 2, 1572931, 65536, 2, 1572930, 65536, 2, 1572929, 65536, 2, 1572928, 65536, 2, 1572927, 65536, 2, 1572926, 65536, 2, 1572925, 65536, 2, 1572924, 65536, 2, 1572923, 65536, 2, 1572922, 65536, 2, 1572921, 65536, 2, 1572920, 65536, 2, 1572919, 65536, 2, 1572918, 65536, 2, 1572917, 65536, 2, 1572916, 65536, 2, 1572915, 65536, 2, 1572914, 65536, 2, 1572913, 65536, 2, 1572912, 65536, 2, 1572911, 65536, 2, 1572910, 65536, 2, 1572909, 65536, 2, 1572908, 65536, 2, 1572907, 65536, 2, 1572906, 65536, 2, 1572905, 65536, 2, 1572904, 65536, 2, 1572903, 65536, 2, 1572902, 65536, 2, 1572901, 65536, 2, 1572900, 65536, 2, 1572899, 65536, 2, 1572898, 65536, 2, 1572897, 65536, 2, 1572896, 65536, 2, 1572895, 65536, 2, 1572894, 65536, 2, 1572893, 65536, 2, 1572892, 65536, 2, 1572891, 65536, 2, 1572890, 65536, 2, 1572889, 65536, 2, 1572888, 65536, 2, 1572887, 65536, 2, 1572886, 65536, 2, 1572885, 65536, 2, 1572884, 65536, 2, 1572883, 65536, 2, 1572882, 65536, 2, 1572881, 65536, 2, 1572880, 65536, 2, 1572879, 65536, 2, 1572878, 65536, 2, 1572877, 65536, 2, 1572876, 65536, 2, 1572875, 65536, 2, 1572874, 65536, 2, 1572873, 65536, 2, 1572872, 65536, 2, 1572871, 65536, 2, 1572870, 65536, 2, 1572869, 65536, 2, 1572868, 65536, 2, 1572867, 65536, 2, 1572866, 65536, 2, 1572865, 65536, 2, 1572864, 0, 2, 589824, 0, 1, 655360, 0, 1, 720896, 0, 1, 786432, 0, 1, 851968, 0, 1, 917504, 0, 1, 983040, 0, 1, 1048576, 0, 1, 1114112, 0, 1, 1179648, 0, 1, 1245184, 0, 1, 1310720, 0, 1, 1376256, 0, 1, 1441792, 0, 1, 1507328, 0, 1, 1572943, 131072, 2, 1376335, 131072, 1, 1441871, 131072, 1, 1507407, 131072, 1, 1572942, 65536, 2, 1572941, 65536, 2, 524360, 196608, 0, 524365, 262144, 0, 524364, 196608, 1, 524363, 196608, 1, 524362, 196608, 1, 524361, 196608, 1, 917574, 262144, 0, 917573, 196608, 1, 917572, 196608, 1, 917571, 196608, 1, 917570, 196608, 1, 917569, 196608, 0)

[node name="bulletholder" type="Node" parent="ObjectLayer"]

[node name="enemy_holder" type="Node" parent="ObjectLayer"]

[node name="computer" parent="ObjectLayer" instance=ExtResource("5_yqsfx")]
position = Vector2(920, 72)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="healthbar" parent="CanvasLayer" instance=ExtResource("4_3ltdm")]
offset_left = 40.0
offset_top = 32.0
offset_right = 40.0
offset_bottom = 32.0

[node name="CharacterChangeScreen" parent="CanvasLayer" instance=ExtResource("6_5v3a0")]
visible = false

[node name="computerButton" parent="CanvasLayer" instance=ExtResource("3_uaqgb")]
visible = false
anchor_left = 0.0208333
anchor_top = 0.037037
anchor_right = 0.0763889
anchor_bottom = 0.135802
offset_left = 1024.0
offset_top = 8.00002
offset_right = 1024.0
offset_bottom = 8.00002
texture_normal = ExtResource("6_0gb6l")

[node name="ActionButton" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0

[node name="left" type="TouchScreenButton" parent="CanvasLayer/ActionButton"]
texture_filter = 1
position = Vector2(24, 616)
rotation = -1.5708
scale = Vector2(7, 7)
texture_normal = ExtResource("7_hk3kv")
shape = SubResource("RectangleShape2D_iafn3")

[node name="right" type="TouchScreenButton" parent="CanvasLayer/ActionButton"]
texture_filter = 1
position = Vector2(304, 504)
rotation = 1.5708
scale = Vector2(7, 7)
texture_normal = ExtResource("7_hk3kv")
shape = SubResource("RectangleShape2D_jwiex")

[node name="jump" type="TouchScreenButton" parent="CanvasLayer/ActionButton"]
texture_filter = 1
position = Vector2(1016, 504)
scale = Vector2(7, 7)
texture_normal = ExtResource("7_hk3kv")
shape = SubResource("RectangleShape2D_b3ky6")

[node name="bullet" type="TouchScreenButton" parent="CanvasLayer/ActionButton"]
texture_filter = 1
position = Vector2(824, 522)
scale = Vector2(10, 10)
texture_normal = SubResource("CompressedTexture2D_qv6pi")
shape = SubResource("RectangleShape2D_4bfbu")

[node name="Label" type="Label" parent="CanvasLayer/ActionButton/bullet"]
anchors_preset = -1
anchor_left = -0.875
anchor_top = -0.875
anchor_right = 2.0
anchor_bottom = 2.0
offset_left = -0.2
offset_top = -1.2
offset_right = -0.2
offset_bottom = -1.2
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("12_nokgd")
text = "1.0"
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[connection signal="update_character" from="CanvasLayer/CharacterChangeScreen" to="ObjectLayer/player" method="_on_character_change_screen_update_character"]
[connection signal="pressed" from="CanvasLayer/computerButton" to="CanvasLayer/CharacterChangeScreen" method="_on_computer_button_pressed"]
[connection signal="pressed" from="CanvasLayer/ActionButton/left" to="ObjectLayer/player" method="_on_left_pressed"]
[connection signal="released" from="CanvasLayer/ActionButton/left" to="ObjectLayer/player" method="_on_left_released"]
[connection signal="pressed" from="CanvasLayer/ActionButton/right" to="ObjectLayer/player" method="_on_right_pressed"]
[connection signal="released" from="CanvasLayer/ActionButton/right" to="ObjectLayer/player" method="_on_right_released"]
[connection signal="pressed" from="CanvasLayer/ActionButton/jump" to="ObjectLayer/player" method="_on_jump_pressed"]
[connection signal="pressed" from="CanvasLayer/ActionButton/bullet" to="ObjectLayer/player" method="_on_bullet_pressed"]
